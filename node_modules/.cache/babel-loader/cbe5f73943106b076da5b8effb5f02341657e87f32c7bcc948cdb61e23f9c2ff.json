{"ast":null,"code":"import { createSlice } from \"@reduxjs/toolkit\";\nconst INITIAL_STATE = {\n  counter_val: 0,\n  cart: []\n};\nconst counter = createSlice({\n  name: \"counter\",\n  initialState: INITIAL_STATE,\n  reducers: {\n    addToCart: (state, action) => {\n      const product = state.cart.find(product => product.id === action.payload.id);\n      if (product) {\n        product.quantity = product.quantity + action.payload.quantity;\n      } else {\n        state.cart.push({\n          ...action.payload\n        });\n        state.counter++;\n      }\n    },\n    removeProduct: (state, action) => {\n      const updatedCart = state.cart.filter(product => product.id !== action.payload);\n      state.counter--;\n      state.cart = updatedCart;\n    },\n    incrementQuantity: (state, action) => {\n      const product = state.cart.find(product => product.id === action.payload);\n      if (product.quantity >= product.stock) {\n        product.quantity = product.stock;\n      } else {\n        product.quantity++;\n      }\n    },\n    decrementQuantity: (state, action) => {\n      const product = state.cart.find(product => product.id === action.payload);\n      if (product.quantity === 1) {\n        product.quantity = 1;\n      } else {\n        product.quantity--;\n      }\n    }\n  }\n});\nexport const {\n  increaseCounter,\n  decreaseCounter,\n  increaseCounterByValue,\n  resetCounter\n} = counter.actions;\nexport default counter.reducer;","map":{"version":3,"names":["createSlice","INITIAL_STATE","counter_val","cart","counter","name","initialState","reducers","addToCart","state","action","product","find","id","payload","quantity","push","removeProduct","updatedCart","filter","incrementQuantity","stock","decrementQuantity","increaseCounter","decreaseCounter","increaseCounterByValue","resetCounter","actions","reducer"],"sources":["/home/lena/e-commerce/e-commerce/src/Store/Slice/CartSlice.js"],"sourcesContent":["import { createSlice } from \"@reduxjs/toolkit\";\n\nconst INITIAL_STATE = {\n  counter_val: 0,\n  cart : [],\n};\n\nconst counter = createSlice({\n  name: \"counter\",\n  initialState: INITIAL_STATE,\n  reducers: {\n    addToCart: (state, action) => {\n        const product = state.cart.find((product) => product.id === action.payload.id)\n        if(product) {\n          product.quantity = product.quantity + action.payload.quantity\n        } else {\n          state.cart.push({...action.payload})\n          state.counter++\n        }\n      },\n  \n      removeProduct: (state, action) => {\n        const updatedCart = state.cart.filter((product) => product.id !== action.payload)\n        state.counter--\n        state.cart = updatedCart\n      },\n      incrementQuantity: (state, action) => {\n        const product = state.cart.find((product) => product.id === action.payload)\n        if(product.quantity >= product.stock) {\n          product.quantity = product.stock\n        } else {\n          product.quantity++\n        }\n      },\n      decrementQuantity: (state, action) => {\n        const product = state.cart.find((product) => product.id === action.payload)\n        if(product.quantity === 1) {\n          product.quantity = 1\n        } else {\n          product.quantity--\n        }\n    }\n  }})\n\n\nexport const {\n  increaseCounter,\n  decreaseCounter,\n  increaseCounterByValue,\n  resetCounter,\n} = counter.actions;\n\nexport default counter.reducer;"],"mappings":"AAAA,SAASA,WAAW,QAAQ,kBAAkB;AAE9C,MAAMC,aAAa,GAAG;EACpBC,WAAW,EAAE,CAAC;EACdC,IAAI,EAAG;AACT,CAAC;AAED,MAAMC,OAAO,GAAGJ,WAAW,CAAC;EAC1BK,IAAI,EAAE,SAAS;EACfC,YAAY,EAAEL,aAAa;EAC3BM,QAAQ,EAAE;IACRC,SAAS,EAAEA,CAACC,KAAK,EAAEC,MAAM,KAAK;MAC1B,MAAMC,OAAO,GAAGF,KAAK,CAACN,IAAI,CAACS,IAAI,CAAED,OAAO,IAAKA,OAAO,CAACE,EAAE,KAAKH,MAAM,CAACI,OAAO,CAACD,EAAE,CAAC;MAC9E,IAAGF,OAAO,EAAE;QACVA,OAAO,CAACI,QAAQ,GAAGJ,OAAO,CAACI,QAAQ,GAAGL,MAAM,CAACI,OAAO,CAACC,QAAQ;MAC/D,CAAC,MAAM;QACLN,KAAK,CAACN,IAAI,CAACa,IAAI,CAAC;UAAC,GAAGN,MAAM,CAACI;QAAO,CAAC,CAAC;QACpCL,KAAK,CAACL,OAAO,EAAE;MACjB;IACF,CAAC;IAEDa,aAAa,EAAEA,CAACR,KAAK,EAAEC,MAAM,KAAK;MAChC,MAAMQ,WAAW,GAAGT,KAAK,CAACN,IAAI,CAACgB,MAAM,CAAER,OAAO,IAAKA,OAAO,CAACE,EAAE,KAAKH,MAAM,CAACI,OAAO,CAAC;MACjFL,KAAK,CAACL,OAAO,EAAE;MACfK,KAAK,CAACN,IAAI,GAAGe,WAAW;IAC1B,CAAC;IACDE,iBAAiB,EAAEA,CAACX,KAAK,EAAEC,MAAM,KAAK;MACpC,MAAMC,OAAO,GAAGF,KAAK,CAACN,IAAI,CAACS,IAAI,CAAED,OAAO,IAAKA,OAAO,CAACE,EAAE,KAAKH,MAAM,CAACI,OAAO,CAAC;MAC3E,IAAGH,OAAO,CAACI,QAAQ,IAAIJ,OAAO,CAACU,KAAK,EAAE;QACpCV,OAAO,CAACI,QAAQ,GAAGJ,OAAO,CAACU,KAAK;MAClC,CAAC,MAAM;QACLV,OAAO,CAACI,QAAQ,EAAE;MACpB;IACF,CAAC;IACDO,iBAAiB,EAAEA,CAACb,KAAK,EAAEC,MAAM,KAAK;MACpC,MAAMC,OAAO,GAAGF,KAAK,CAACN,IAAI,CAACS,IAAI,CAAED,OAAO,IAAKA,OAAO,CAACE,EAAE,KAAKH,MAAM,CAACI,OAAO,CAAC;MAC3E,IAAGH,OAAO,CAACI,QAAQ,KAAK,CAAC,EAAE;QACzBJ,OAAO,CAACI,QAAQ,GAAG,CAAC;MACtB,CAAC,MAAM;QACLJ,OAAO,CAACI,QAAQ,EAAE;MACpB;IACJ;EACF;AAAC,CAAC,CAAC;AAGL,OAAO,MAAM;EACXQ,eAAe;EACfC,eAAe;EACfC,sBAAsB;EACtBC;AACF,CAAC,GAAGtB,OAAO,CAACuB,OAAO;AAEnB,eAAevB,OAAO,CAACwB,OAAO"},"metadata":{},"sourceType":"module","externalDependencies":[]}