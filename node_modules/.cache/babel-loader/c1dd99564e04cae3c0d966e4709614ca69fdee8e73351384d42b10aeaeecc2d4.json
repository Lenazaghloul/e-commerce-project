{"ast":null,"code":"import { createSlice } from \"@reduxjs/toolkit\";\nconst INITIAL_STATE = {\n  cart: [],\n  counter: 0\n};\nconst cart = createSlice({\n  name: 'cart',\n  initialState: INITIAL_STATE,\n  reducers: {\n    // New Item\n    addToCart: (state, action) => {\n      const product = state.cart.find(product => product.id === action.payload.id);\n      if (product) {\n        product.quantity = product.quantity + action.payload.quantity;\n      } else {\n        state.cart.push({\n          ...action.payload\n        });\n        state.counter++;\n      }\n    },\n    // Increment\n    incrementQuantity: (state, action) => {\n      const product = state.cart.find(product => product.id === action.payload);\n      if (product.quantity >= product.stock) {\n        product.quantity = product.stock;\n      } else {\n        product.quantity++;\n      }\n    },\n    // Decrement\n    decrementQuantity: (state, action) => {\n      const product = state.cart.find(product => product.id === action.payload);\n      if (product.quantity === 1) {\n        product.quantity = 1;\n      } else {\n        product.quantity--;\n      }\n    },\n    // Remove\n    removeProduct: (state, action) => {\n      const updatedCart = state.cart.filter(product => product.id !== action.payload);\n      state.counter--;\n      state.cart = updatedCart;\n    }\n  }\n});\nexport const {\n  addToCart,\n  incrementQuantity,\n  decrementQuantity,\n  removeProduct\n} = cart.actions;\nexport default cart.reducer;","map":{"version":3,"names":["createSlice","INITIAL_STATE","cart","counter","name","initialState","reducers","addToCart","state","action","product","find","id","payload","quantity","push","incrementQuantity","stock","decrementQuantity","removeProduct","updatedCart","filter","actions","reducer"],"sources":["/home/lena/e-commerce/e-commerce/src/Store/Slice/CartSlice.js"],"sourcesContent":["import { createSlice } from \"@reduxjs/toolkit\";\n\n\nconst INITIAL_STATE = {\n    cart : [],\n    counter: 0\n  }\n  \n  const cart = createSlice({\n    name: 'cart',\n    initialState: INITIAL_STATE,\n    reducers: {\n      // New Item\n      addToCart: (state, action) => {\n        const product = state.cart.find((product) => product.id === action.payload.id)\n        if(product) {\n          product.quantity = product.quantity + action.payload.quantity\n        } else {\n          state.cart.push({...action.payload})\n          state.counter++\n        }\n      },\n  \n      // Increment\n      incrementQuantity: (state, action) => {\n        const product = state.cart.find((product) => product.id === action.payload)\n        if(product.quantity >= product.stock) {\n          product.quantity = product.stock\n        } else {\n          product.quantity++\n        }\n      },\n  \n      // Decrement\n      decrementQuantity: (state, action) => {\n        const product = state.cart.find((product) => product.id === action.payload)\n        if(product.quantity === 1) {\n          product.quantity = 1\n        } else {\n          product.quantity--\n        }\n      },\n  \n      // Remove\n      removeProduct: (state, action) => {\n        const updatedCart = state.cart.filter((product) => product.id !== action.payload)\n        state.counter--\n        state.cart = updatedCart\n      }\n    }\n  })\n  \n  export const {\n    addToCart,\n    incrementQuantity,\n    decrementQuantity,\n    removeProduct\n  } = cart.actions\n  \n  export default cart.reducer"],"mappings":"AAAA,SAASA,WAAW,QAAQ,kBAAkB;AAG9C,MAAMC,aAAa,GAAG;EAClBC,IAAI,EAAG,EAAE;EACTC,OAAO,EAAE;AACX,CAAC;AAED,MAAMD,IAAI,GAAGF,WAAW,CAAC;EACvBI,IAAI,EAAE,MAAM;EACZC,YAAY,EAAEJ,aAAa;EAC3BK,QAAQ,EAAE;IACR;IACAC,SAAS,EAAEA,CAACC,KAAK,EAAEC,MAAM,KAAK;MAC5B,MAAMC,OAAO,GAAGF,KAAK,CAACN,IAAI,CAACS,IAAI,CAAED,OAAO,IAAKA,OAAO,CAACE,EAAE,KAAKH,MAAM,CAACI,OAAO,CAACD,EAAE,CAAC;MAC9E,IAAGF,OAAO,EAAE;QACVA,OAAO,CAACI,QAAQ,GAAGJ,OAAO,CAACI,QAAQ,GAAGL,MAAM,CAACI,OAAO,CAACC,QAAQ;MAC/D,CAAC,MAAM;QACLN,KAAK,CAACN,IAAI,CAACa,IAAI,CAAC;UAAC,GAAGN,MAAM,CAACI;QAAO,CAAC,CAAC;QACpCL,KAAK,CAACL,OAAO,EAAE;MACjB;IACF,CAAC;IAED;IACAa,iBAAiB,EAAEA,CAACR,KAAK,EAAEC,MAAM,KAAK;MACpC,MAAMC,OAAO,GAAGF,KAAK,CAACN,IAAI,CAACS,IAAI,CAAED,OAAO,IAAKA,OAAO,CAACE,EAAE,KAAKH,MAAM,CAACI,OAAO,CAAC;MAC3E,IAAGH,OAAO,CAACI,QAAQ,IAAIJ,OAAO,CAACO,KAAK,EAAE;QACpCP,OAAO,CAACI,QAAQ,GAAGJ,OAAO,CAACO,KAAK;MAClC,CAAC,MAAM;QACLP,OAAO,CAACI,QAAQ,EAAE;MACpB;IACF,CAAC;IAED;IACAI,iBAAiB,EAAEA,CAACV,KAAK,EAAEC,MAAM,KAAK;MACpC,MAAMC,OAAO,GAAGF,KAAK,CAACN,IAAI,CAACS,IAAI,CAAED,OAAO,IAAKA,OAAO,CAACE,EAAE,KAAKH,MAAM,CAACI,OAAO,CAAC;MAC3E,IAAGH,OAAO,CAACI,QAAQ,KAAK,CAAC,EAAE;QACzBJ,OAAO,CAACI,QAAQ,GAAG,CAAC;MACtB,CAAC,MAAM;QACLJ,OAAO,CAACI,QAAQ,EAAE;MACpB;IACF,CAAC;IAED;IACAK,aAAa,EAAEA,CAACX,KAAK,EAAEC,MAAM,KAAK;MAChC,MAAMW,WAAW,GAAGZ,KAAK,CAACN,IAAI,CAACmB,MAAM,CAAEX,OAAO,IAAKA,OAAO,CAACE,EAAE,KAAKH,MAAM,CAACI,OAAO,CAAC;MACjFL,KAAK,CAACL,OAAO,EAAE;MACfK,KAAK,CAACN,IAAI,GAAGkB,WAAW;IAC1B;EACF;AACF,CAAC,CAAC;AAEF,OAAO,MAAM;EACXb,SAAS;EACTS,iBAAiB;EACjBE,iBAAiB;EACjBC;AACF,CAAC,GAAGjB,IAAI,CAACoB,OAAO;AAEhB,eAAepB,IAAI,CAACqB,OAAO"},"metadata":{},"sourceType":"module","externalDependencies":[]}